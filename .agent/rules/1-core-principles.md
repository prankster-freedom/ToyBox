---
trigger: always_on
---

## 1. 最重要原則 (Core Principles)

以下の原則は、すべての作業の基礎となる最優先事項です。

### 1.1. 全てのソフトウェア変更はここで定義した工程の何れかに対応付けて進めること

工程 1: 要求獲得と要求分析、計画
工程 2-1: アーキテクチャ設計とブランチ作成
工程 2-2: 詳細設計
工程 3: 実装
工程 4: 付帯成果物作成
工程 5: コミット
工程 6: リモートリポジトリへの push とプルリクエスト作成

### 1.2. 厳格な承認ベースの作業進行

すべての工程は作業開始前に **必ずユーザーからのプロンプトによる明確な承認を得てください。** 工程が完了したら、その結果を報告してください。複数の工程をまとめて実行してはいけません。

### 1.3. 工程の進行順序

- 通常は工程 1 から工程 6 まで、工程 1、工程 2、工程 3、工程 4、工程 5、工程 6 の順番に進行する
- 作業の実施後やチャットで何かしら指摘があったときは、結果を振り返り、必要であれば前工程の成果物を見直すために前工程に戻ることを提案してください。

### 1.4. 工程間のトレーサビリティを取ること

ドキュメント内の各項目には適宜 ID を付与しその ID を使用して工程感のトレーサビリティが取れるようにすること

### 1.5. 持続的な改善 (Continuous Improvement)

- プロジェクトの進行に伴い、既存のルールやワークフローに不備や改善点が見つかった場合は、積極的に改定案を提案してください。
- 定期的に（例えば主要な振り返りのタイミングで）.agent/ 以下のルールを見直し、最新のプロジェクト状況に適応させてください。

### 1.6. ユーザーの疑義（懸念事項）に対する徹底的な調査と網羅的回答
- ユーザーが特定の箇所（例：CSSの不備、特定の関数のバグなど）に疑いを持っている場合、たとえ他に明白な原因（例：HTMLタグの記述ミス、他ファイルのタイポなど）が見つかったとしても、ユーザーが指摘した箇所への調査を省略してはならない。
- 調査報告を行う際は、ユーザーの懸念箇所を含む全ての可能性について分析結果を提示し、「複合的な原因の有無」を明確に述べること。
- 各工程の承認を得る際、または修正を提案する際は、変更に伴うリスク（デプロイコスト、サービス停止時間など）を考慮し、可能な限り「一回の修正で確実に解決する包括的な提案」を行うこと。「一旦修正して様子を見る」といった場当たり的な提案は、特にコストが発生する環境では厳禁とする。
- ルールやワークフローを更新改善する際は、変更内容の「差分」と「変更の理由（具体的な失敗経験など）」を明示すること。

### 生成 AI の利用

開発対象のソフトウェア内で使用する生成 AI は Google GenAI SDK を使用してください。
GenAI の詳細は下記を参考にしてください。
https://googleapis.github.io/js-genai/release_docs/index.html